:javascript
  $('.create-rocket').click(function () {
    swal({
      input: 'text',
      title: "#{t('keppler.rockets.choose_a_name')}",
      text: "#{t('keppler.rockets.rocket_name')}",
      confirmButtonText: "#{t('keppler.rockets.create_rocket')}",
      cancelButtonText: "#{t('keppler.rockets.cancel')}",
      showCancelButton: true,
    }).then((result) => {
      if (result.value && result.value.includes() && parseRocketName(result.value) != '') {
        var rocket_name = parseRocketName(result.value);
        swal({
          title: "#{t('keppler.rockets.you_sure')}",
          html: `#{t('keppler.rockets.will_be_named')}:<pre><code>keppler_${parseRocketName(result.value)}</code></pre>`,
          confirmButtonText: "#{t('keppler.rockets.great')}",
          showCancelButton: true,
        }).then((result) => {
          if (result.value) {
            swal({
              title: "#{t('keppler.rockets.great')}",
              html: "#{t('keppler.rockets.wait_generator')}",
              timer: 3000,
              onOpen: () => {
                swal.showLoading()
              },
            }).then((result) => {
              $('.spinner').fadeIn()
              $('.create_rocket_form')
                .attr('action', `/admin/rockets/create/${rocket_name}`)
                .submit()
              // if (result.dismiss === swal.DismissReason.timer) {
              // }
            })
          }
        })
      }
    })
  })

  function parseRocketName(rocket_name) {
    var rn = rocket_name
      .toLowerCase()
      .replace(/[^a-zA-Z]/g, '')
      .split(';').join('')
      .split(',').join('')
      .split('%').join('')
      .split('.').join('')
      .split('*').join('')
      .split('#').join('')
      .split('!').join('')
      .split('?').join('')
      .split('"').join('')
      .split('<').join('')
      .split('>').join('')
      .split('«').join('')
      .split('»').join('')
      .split('\'').join('')
      .split(';').join('')
      .split(':').join('')
      .split(' ').join('_')
      .split('/').join('_')
      .split('-').join('_')
      .split('&').join('y')
      .split('á').join('a')
      .split('é').join('e')
      .split('í').join('i')
      .split('ó').join('o')
      .split('ö').join('o')
      .split('ú').join('u')
      .split('ü').join('u')
      .split('ñ').join('n')
      .split('keppler_').join('')
      .split('keppler ').join('')
      .split('keppler-').join('')
      .split('keppler.').join('')
      .split('keppler/').join('')
    while (rn[0]=='_') rn = rn.substring(1, rn.length);
    return rn;
  }
