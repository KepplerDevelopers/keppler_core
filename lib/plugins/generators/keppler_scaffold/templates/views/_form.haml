= simple_form_for [:admin, @<%= MODULE_NAME %>] do |f|
  .container
    .row
      .col-lg-2
        = link_to admin_<%= plural_table_name %>_path, class: '', 'data-position' => 'bottom', 'data-tooltip' => t('keppler.actions.back') do
          .arrow-back.btn.btn-default
            %i.icon-arrow-left
            = t('keppler.actions.back')

    .row
      .col-lg-12
        .box.slice-box
          .box-header.with-border
            %h3.box-title= t("keppler.modules.#{action_name.underscore}")
            .box-tools.pull-right
              %a.btn.btn-box-tool{ 'data-widget' => 'collapse', type: 'button' }
                %i.icon-minus
          .box-body
            %table.table.table-bordered
              %tbody
                .form-padding
                  <%- ATTRIBUTES.each_with_index do |attribute, index| -%>
                  .col-xs-12
                    <%- if SINGULAR_ATTACHMENTS.include?(attribute.first) -%>
                    = f.input :<%= attribute.first %>, as: :keppler_file # , max_size: 225
                    <%- elsif PLURAL_ATTACHMENTS.include?(attribute.first) -%>
                    = f.input :<%= attribute.first %>, as: :keppler_file, multiple: true # , max_size: 225
                    <%- elsif attribute.last.eql?('references') -%>
                    = f.association :<%= attribute.first %>, include_blank: false
                    <%- elsif attribute.last.eql?('text') -%>
                    = f.input :<%= attribute.first %>, input_html: { ckeditor: { toolbar: 'mini' } }
                    <%- elsif attribute.last.eql?('date') -%>
                    = f.input :<%= attribute.first %>, as: :string, input_html: { class: 'datepicker' }
                    <%- elsif attribute.last.eql?('boolean') -%>
                    = f.input :<%= attribute.first %>, as: :keppler_boolean
                    <%- elsif %w[integer float decimal].include?(attribute.last) -%>
                    = f.input :<%= attribute.first %>, input_html: { min: 0 }
                    <%- elsif attribute.last.eql?('binary') || attribute.last.eql?('string') -%>
                    = f.input :<%= attribute.first %>, as: :string
                    <%- elsif %w[position].include?(attribute.first) || attribute.last.eql?('timestamp') -%>
                    = f.input :<%= attribute.first %>, as: :hidden
                    <%- else -%>
                    = f.input :<%= attribute.first %>
                    <%- end -%>
                  <%- end -%>
                  .col-xs-12
                    .pull-right
                      = f.button :submit, t('keppler.actions.save'), name: '_save', class: 'btn-primary'
                      = f.button :submit, t('keppler.actions.save_and_add_another'), name: '_add_other'
