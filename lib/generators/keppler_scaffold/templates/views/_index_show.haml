.tab-content
  %h6.actions
    - if can?(<%= singular_table_name.camelcase %>).update?
      = link_to edit_admin_<%= singular_table_name %>_path(@<%= singular_table_name %>), title: t("keppler.actions.edit"), class: 'pull-left' do
        %i.icon-pencil
        %span= t('keppler.actions.edit')
    %a.close-index-show.pull-right
      %i.icon-close
  %h3.control-sidebar-heading
    = t("keppler.modules.#{controller_path.underscore}")
  %ul.timeline
    - @<%= singular_table_name %>.as_json(except: %[id position created_at updated_at deleted_at]).each do |attribute, value|
      -unless attribute.eql?('position') || attribute.eql?('deleted_at')
        %li.list-row
          .timeline-item
            %h6.timeline-header.no-border
              %small
                %strong.display-value= t("activerecord.attributes.#{attribute}")
                  - if @attachments[:images][:types].include?(attribute)
                    = image_tag value.url unless value.url.blank?
                  - elsif value.is_a?(Array)
                    - value.each do |image|
                      = image_tag image.url unless image.url.blank?
                  - elsif @attachments[:videos][:types].include?(attribute)
                    = video_tag value.url, controls: true unless value.url.blank? do
                      Sorry, your browser doesn't support embedded videos, but don't worry, you can
                      = link_to 'download it', value.url
                      and watch it with your favorite video player!
                  - elsif @attachments[:audios][:types].include?(attribute)
                    = audio_tag value.url, controls: true unless value.url.blank? do
                      Sorry, your browser doesn't support embedded audios, but don't worry, you can
                      = link_to 'download it', value.url
                      and listen to it with your favorite audio player!
                  - else
                    = raw value
:coffee
  $('.close-index-show').click ->
    $('.index-show').css 'right', -$('.index-show').outerWidth()
