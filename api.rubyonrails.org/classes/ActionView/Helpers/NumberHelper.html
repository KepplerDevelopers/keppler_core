<!DOCTYPE html>
<html lang="en">
<head>
    <title>ActionView::Helpers::NumberHelper</title>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="https://api.rubyonrails.org/css/reset.css" type="text/css" media="screen" />
<link rel="stylesheet" href="https://api.rubyonrails.org/css/main.css" type="text/css" media="screen" />
<link rel="stylesheet" href="https://api.rubyonrails.org/css/github.css" type="text/css" media="screen" />
<script src="https://api.rubyonrails.org/js/jquery-1.3.2.min.js" type="text/javascript" charset="utf-8"></script>
<script src="https://api.rubyonrails.org/js/main.js" type="text/javascript" charset="utf-8"></script>
<script src="https://api.rubyonrails.org/js/highlight.pack.js" type="text/javascript" charset="utf-8"></script>


    <meta property="og:title" value="ActionView::Helpers::NumberHelper">

  
    
    <meta name="description" content="Provides methods for converting numbers into formatted strings. Methods are provided for phone numbers, currency, percentage, precision, positional notation, file size and pretty printing.">
    <meta property="og:description" content="Provides methods for converting numbers into formatted strings. Methods are provided for phone numbers, currency, percentage, precision, positional notation, file size and pretty printing.">
  

    <meta name="keywords" content="ActionView::Helpers::NumberHelper class">
  
    <meta name="keywords" content="number_to_phone, number_to_currency, number_to_percentage, number_with_delimiter, number_with_precision, number_to_human_size, number_to_human, delegate_number_helper_method, escape_unsafe_options, escape_units, wrap_with_output_safety_handling, valid_float?, parse_float">
  
</head>

<body>
    <div class="banner">
        
            <span>Ruby on Rails 5.2.1</span><br />
        
        <h1>
            <span class="type">Module</span>
            ActionView::Helpers::NumberHelper
            
        </h1>
        <ul class="files">
            
            <li><a href="../../../files/actionview/lib/action_view/helpers/number_helper_rb.html">actionview/lib/action_view/helpers/number_helper.rb</a></li>
            
        </ul>
    </div>
    <div id="bodyContent">
        <div id="content">
  
    <div class="description">
      
<p>Provides methods for converting numbers into formatted strings. Methods are
provided for phone numbers, currency, percentage, precision, positional
notation, file size and pretty printing.</p>

<p>Most methods expect a <code>number</code> argument, and will return it
unchanged if can&#39;t be converted into a valid number.</p>

    </div>
  


  


  
  


  
    <!-- Namespace -->
    <div class="sectiontitle">Namespace</div>
    <ul>
      
        <li>
          <span class="type">CLASS</span>
          <a href="NumberHelper/InvalidNumberError.html">ActionView::Helpers::NumberHelper::InvalidNumberError</a>
        </li>
      
    </ul>
  


  
    <!-- Method ref -->
    <div class="sectiontitle">Methods</div>
    <dl class="methods">
      
        <dt>D</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-delegate_number_helper_method">delegate_number_helper_method</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>E</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-escape_units">escape_units</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-escape_unsafe_options">escape_unsafe_options</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>N</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_to_currency">number_to_currency</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_to_human">number_to_human</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_to_human_size">number_to_human_size</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_to_percentage">number_to_percentage</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_to_phone">number_to_phone</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_with_delimiter">number_with_delimiter</a>,
              </li>
            
              
              <li>
                <a href="NumberHelper.html#method-i-number_with_precision">number_with_precision</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>P</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-parse_float">parse_float</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>V</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-valid_float-3F">valid_float?</a>
              </li>
            
          </ul>
        </dd>
      
        <dt>W</dt>
        <dd>
          <ul>
            
              
              <li>
                <a href="NumberHelper.html#method-i-wrap_with_output_safety_handling">wrap_with_output_safety_handling</a>
              </li>
            
          </ul>
        </dd>
      
    </dl>
  

  



  

    

    

    


    


    <!-- Methods -->
    
    
      <div class="sectiontitle">Instance Public methods</div>
      
        <div class="method">
          <div class="title method-title" id="method-i-delegate_number_helper_method">
            
              <b>delegate_number_helper_method</b>(method, number, options)
            
            <a href="NumberHelper.html#method-i-delegate_number_helper_method" name="method-i-delegate_number_helper_method" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-delegate_number_helper_method_source')" id="l_method-i-delegate_number_helper_method_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L402" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-delegate_number_helper_method_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 402</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delegate_number_helper_method</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">number</span>
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">escape_unsafe_options</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>)

      <span class="ruby-identifier">wrap_with_output_safety_handling</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:raise</span>)) {
        <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">NumberHelper</span>.<span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
      }
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_unsafe_options</span>(<span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]          = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>] = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]            = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>].<span class="ruby-identifier">html_safe?</span>
      <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]           = <span class="ruby-identifier">escape_units</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]
      <span class="ruby-identifier">options</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_units</span>(<span class="ruby-identifier">units</span>)
      <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">units</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
        [<span class="ruby-identifier">k</span>, <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">v</span>)]
      <span class="ruby-keyword">end</span>]
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">wrap_with_output_safety_handling</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_on_invalid</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">valid_float</span> = <span class="ruby-identifier">valid_float?</span>(<span class="ruby-identifier">number</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_on_invalid</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">valid_float</span>

      <span class="ruby-identifier">formatted_number</span> = <span class="ruby-keyword">yield</span>

      <span class="ruby-keyword">if</span> <span class="ruby-identifier">valid_float</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">number</span>.<span class="ruby-identifier">html_safe?</span>
        <span class="ruby-identifier">formatted_number</span>.<span class="ruby-identifier">html_safe</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">formatted_number</span>
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">valid_float?</span>(<span class="ruby-identifier">number</span>)
      <span class="ruby-operator">!</span><span class="ruby-identifier">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-keyword">false</span>).<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_error</span>)
      <span class="ruby-constant">Float</span>(<span class="ruby-identifier">number</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">TypeError</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_error</span>
    <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-escape_units">
            
              <b>escape_units</b>(units)
            
            <a href="NumberHelper.html#method-i-escape_units" name="method-i-escape_units" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-escape_units_source')" id="l_method-i-escape_units_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L421" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-escape_units_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 421</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_units</span>(<span class="ruby-identifier">units</span>)
  <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">units</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    [<span class="ruby-identifier">k</span>, <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">v</span>)]
  <span class="ruby-keyword">end</span>]
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-escape_unsafe_options">
            
              <b>escape_unsafe_options</b>(options)
            
            <a href="NumberHelper.html#method-i-escape_unsafe_options" name="method-i-escape_unsafe_options" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-escape_unsafe_options_source')" id="l_method-i-escape_unsafe_options_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L411" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-escape_unsafe_options_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_unsafe_options</span>(<span class="ruby-identifier">options</span>)
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]          = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>] = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]            = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>].<span class="ruby-identifier">html_safe?</span>
  <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]           = <span class="ruby-identifier">escape_units</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]
  <span class="ruby-identifier">options</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_to_currency">
            
              <b>number_to_currency</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_to_currency" name="method-i-number_to_currency" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats a <code>number</code> into a currency string (e.g., $13.65). You
can customize the format in the <code>options</code> hash.</p>

<p>The currency unit and number formatting of the current locale will be used
unless otherwise specified in the provided options. No currency conversion
is performed. If the user is given a way to change their locale, they will
also be able to change the relative value of the currency displayed with
this helper. If your application will ever support multiple locales, you
may want to specify a constant <code>:locale</code> option or consider
using a library capable of currency conversion.</p>

<h4 id="method-i-number_to_currency-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:precision</code> - Sets the level of precision (defaults to 2).</p>
</li><li>
<p><code>:unit</code> - Sets the denomination of the currency (defaults to
“$”).</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the units (defaults to
“.”).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “,”).</p>
</li><li>
<p><code>:format</code> - Sets the format for non-negative numbers (defaults
to “%u%n”).  Fields are <code>%u</code> for the currency, and
<code>%n</code> for the number.</p>
</li><li>
<p><code>:negative_format</code> - Sets the format for negative numbers
(defaults to prepending a hyphen to the formatted number given by
<code>:format</code>).  Accepts the same fields than <code>:format</code>,
except <code>%n</code> is here the absolute value of the number.</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_to_currency-label-Examples">Examples</h4>

<pre><code>number_to_currency(1234567890.50)                    # =&gt; $1,234,567,890.50
number_to_currency(1234567890.506)                   # =&gt; $1,234,567,890.51
number_to_currency(1234567890.506, precision: 3)     # =&gt; $1,234,567,890.506
number_to_currency(1234567890.506, locale: :fr)      # =&gt; 1 234 567 890,51 €
number_to_currency(&quot;123a456&quot;)                        # =&gt; $123a456

number_to_currency(&quot;123a456&quot;, raise: true)           # =&gt; InvalidNumberError

number_to_currency(-1234567890.50, negative_format: &quot;(%u%n)&quot;)
# =&gt; ($1,234,567,890.50)
number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;)
# =&gt; R$1234567890,50
number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;, format: &quot;%n %u&quot;)
# =&gt; 1234567890,50 R$
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_to_currency_source')" id="l_method-i-number_to_currency_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L120" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_to_currency_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 120</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_currency</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_currency</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_to_human">
            
              <b>number_to_human</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_to_human" name="method-i-number_to_human" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Pretty prints (formats and approximates) a number in a way it is more
readable by humans (eg.: 1200000000 becomes “1.2 Billion”). This is useful
for numbers that can get very large (and too hard to read).</p>

<p>See <code>number_to_human_size</code> if you want to print a file size.</p>

<p>You can also define your own unit-quantifier names if you want to use other
decimal units (eg.: 1500 becomes “1.5 kilometers”, 0.150 becomes “150
milliliters”, etc). You may define a wide range of unit quantifiers, even
fractional ones (centi, deci, mili, etc).</p>

<h4 id="method-i-number_to_human-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:precision</code> - Sets the precision of the number (defaults to 3).</p>
</li><li>
<p><code>:significant</code> - If <code>true</code>, precision will be the
number of significant_digits. If <code>false</code>, the number of
fractional digits (defaults to <code>true</code>)</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the fractional and
integer digits (defaults to “.”).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “”).</p>
</li><li>
<p><code>:strip_insignificant_zeros</code> - If <code>true</code> removes
insignificant zeros after the decimal separator (defaults to
<code>true</code>)</p>
</li><li>
<p><code>:units</code> - A <a href="../../Hash.html">Hash</a> of unit
quantifier names. Or a string containing an i18n scope where to find this
hash. It might have the following keys:</p>
<ul><li>
<p><strong>integers</strong>: <code>:unit</code>, <code>:ten</code>,
<code>:hundred</code>, <code>:thousand</code>, <code>:million</code>,
<code>:billion</code>, <code>:trillion</code>, <code>:quadrillion</code></p>
</li><li>
<p><strong>fractionals</strong>: <code>:deci</code>, <code>:centi</code>,
<code>:mili</code>, <code>:micro</code>, <code>:nano</code>,
<code>:pico</code>, <code>:femto</code></p>
</li></ul>
</li><li>
<p><code>:format</code> - Sets the format of the output string (defaults to
“%n %u”). The field types are:</p>
<ul><li>
<p>%u - The quantifier (ex.: &#39;thousand&#39;)</p>
</li><li>
<p>%n - The number</p>
</li></ul>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_to_human-label-Examples">Examples</h4>

<pre><code>number_to_human(123)                                          # =&gt; &quot;123&quot;
number_to_human(1234)                                         # =&gt; &quot;1.23 Thousand&quot;
number_to_human(12345)                                        # =&gt; &quot;12.3 Thousand&quot;
number_to_human(1234567)                                      # =&gt; &quot;1.23 Million&quot;
number_to_human(1234567890)                                   # =&gt; &quot;1.23 Billion&quot;
number_to_human(1234567890123)                                # =&gt; &quot;1.23 Trillion&quot;
number_to_human(1234567890123456)                             # =&gt; &quot;1.23 Quadrillion&quot;
number_to_human(1234567890123456789)                          # =&gt; &quot;1230 Quadrillion&quot;
number_to_human(489939, precision: 2)                         # =&gt; &quot;490 Thousand&quot;
number_to_human(489939, precision: 4)                         # =&gt; &quot;489.9 Thousand&quot;
number_to_human(1234567, precision: 4,
                        significant: false)                   # =&gt; &quot;1.2346 Million&quot;
number_to_human(1234567, precision: 1,
                        separator: &#39;,&#39;,
                        significant: false)                   # =&gt; &quot;1,2 Million&quot;

number_to_human(500000000, precision: 5)                      # =&gt; &quot;500 Million&quot;
number_to_human(12345012345, significant: false)              # =&gt; &quot;12.345 Billion&quot;
</code></pre>

<p>Non-significant zeros after the decimal separator are stripped out by
default (set <code>:strip_insignificant_zeros</code> to <code>false</code>
to change that):</p>

<p><a
href="NumberHelper.html#method-i-number_to_human">#number_to_human</a>(12.00001)
# =&gt; “12” <a
href="NumberHelper.html#method-i-number_to_human">#number_to_human</a>(12.00001,
strip_insignificant_zeros: false)     # =&gt; “12.0”</p>

<h4 id="method-i-number_to_human-label-Custom+Unit+Quantifiers">Custom Unit Quantifiers</h4>

<p>You can also use your own custom unit quantifiers:</p>

<pre><code>number_to_human(500000, units: {unit: &quot;ml&quot;, thousand: &quot;lt&quot;})  # =&gt; &quot;500 lt&quot;
</code></pre>

<p>If in your I18n locale you have:</p>

<pre><code>distance:
  centi:
    one: &quot;centimeter&quot;
    other: &quot;centimeters&quot;
  unit:
    one: &quot;meter&quot;
    other: &quot;meters&quot;
  thousand:
    one: &quot;kilometer&quot;
    other: &quot;kilometers&quot;
  billion: &quot;gazillion-distance&quot;
</code></pre>

<p>Then you could do:</p>

<pre><code>number_to_human(543934, units: :distance)              # =&gt; &quot;544 kilometers&quot;
number_to_human(54393498, units: :distance)            # =&gt; &quot;54400 kilometers&quot;
number_to_human(54393498000, units: :distance)         # =&gt; &quot;54.4 gazillion-distance&quot;
number_to_human(343, units: :distance, precision: 1)   # =&gt; &quot;300 meters&quot;
number_to_human(1, units: :distance)                   # =&gt; &quot;1 meter&quot;
number_to_human(0.34, units: :distance)                # =&gt; &quot;34 centimeters&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_to_human_source')" id="l_method-i-number_to_human_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L396" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_to_human_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 396</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_human</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_human</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_to_human_size">
            
              <b>number_to_human_size</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_to_human_size" name="method-i-number_to_human_size" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats the bytes in <code>number</code> into a more understandable
representation (e.g., giving it 1500 yields 1.5 KB). This method is useful
for reporting file sizes to users. You can customize the format in the
<code>options</code> hash.</p>

<p>See <code>number_to_human</code> if you want to pretty-print a generic
number.</p>

<h4 id="method-i-number_to_human_size-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:precision</code> - Sets the precision of the number (defaults to 3).</p>
</li><li>
<p><code>:significant</code> - If <code>true</code>, precision will be the
number of significant_digits. If <code>false</code>, the number of
fractional digits (defaults to <code>true</code>)</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the fractional and
integer digits (defaults to “.”).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “”).</p>
</li><li>
<p><code>:strip_insignificant_zeros</code> - If <code>true</code> removes
insignificant zeros after the decimal separator (defaults to
<code>true</code>)</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_to_human_size-label-Examples">Examples</h4>

<pre><code>number_to_human_size(123)                                          # =&gt; 123 Bytes
number_to_human_size(1234)                                         # =&gt; 1.21 KB
number_to_human_size(12345)                                        # =&gt; 12.1 KB
number_to_human_size(1234567)                                      # =&gt; 1.18 MB
number_to_human_size(1234567890)                                   # =&gt; 1.15 GB
number_to_human_size(1234567890123)                                # =&gt; 1.12 TB
number_to_human_size(1234567890123456)                             # =&gt; 1.1 PB
number_to_human_size(1234567890123456789)                          # =&gt; 1.07 EB
number_to_human_size(1234567, precision: 2)                        # =&gt; 1.2 MB
number_to_human_size(483989, precision: 2)                         # =&gt; 470 KB
number_to_human_size(1234567, precision: 2, separator: &#39;,&#39;)        # =&gt; 1,2 MB
number_to_human_size(1234567890123, precision: 5)                  # =&gt; &quot;1.1228 TB&quot;
number_to_human_size(524288000, precision: 5)                      # =&gt; &quot;500 MB&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_to_human_size_source')" id="l_method-i-number_to_human_size_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L290" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_to_human_size_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_human_size</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_human_size</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_to_percentage">
            
              <b>number_to_percentage</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_to_percentage" name="method-i-number_to_percentage" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats a <code>number</code> as a percentage string (e.g., 65%). You can
customize the format in the <code>options</code> hash.</p>

<h4 id="method-i-number_to_percentage-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:precision</code> - Sets the precision of the number (defaults to 3).</p>
</li><li>
<p><code>:significant</code> - If <code>true</code>, precision will be the
number of significant_digits. If <code>false</code>, the number of
fractional digits (defaults to <code>false</code>).</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the fractional and
integer digits (defaults to “.”).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “”).</p>
</li><li>
<p><code>:strip_insignificant_zeros</code> - If <code>true</code> removes
insignificant zeros after the decimal separator (defaults to
<code>false</code>).</p>
</li><li>
<p><code>:format</code> - Specifies the format of the percentage string The
number field is <code>%n</code> (defaults to “%n%”).</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_to_percentage-label-Examples">Examples</h4>

<pre><code>number_to_percentage(100)                                        # =&gt; 100.000%
number_to_percentage(&quot;98&quot;)                                       # =&gt; 98.000%
number_to_percentage(100, precision: 0)                          # =&gt; 100%
number_to_percentage(1000, delimiter: &#39;.&#39;, separator: &#39;,&#39;)       # =&gt; 1.000,000%
number_to_percentage(302.24398923423, precision: 5)              # =&gt; 302.24399%
number_to_percentage(1000, locale: :fr)                          # =&gt; 1 000,000%
number_to_percentage(&quot;98a&quot;)                                      # =&gt; 98a%
number_to_percentage(100, format: &quot;%n  %&quot;)                       # =&gt; 100.000  %

number_to_percentage(&quot;98a&quot;, raise: true)                         # =&gt; InvalidNumberError
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_to_percentage_source')" id="l_method-i-number_to_percentage_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L160" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_to_percentage_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_percentage</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_percentage</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_to_phone">
            
              <b>number_to_phone</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_to_phone" name="method-i-number_to_phone" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats a <code>number</code> into a phone number (US by default e.g.,
(555) 123-9876). You can customize the format in the <code>options</code>
hash.</p>

<h4 id="method-i-number_to_phone-label-Options">Options</h4>
<ul><li>
<p><code>:area_code</code> - Adds parentheses around the area code.</p>
</li><li>
<p><code>:delimiter</code> - Specifies the delimiter to use (defaults to “-”).</p>
</li><li>
<p><code>:extension</code> - Specifies an extension to add to the end of the
generated number.</p>
</li><li>
<p><code>:country_code</code> - Sets the country code for the phone number.</p>
</li><li>
<p><code>:pattern</code> - Specifies how the number is divided into three
groups with the custom regexp to override the default format.</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_to_phone-label-Examples">Examples</h4>

<pre><code>number_to_phone(5551234)                                           # =&gt; 555-1234
number_to_phone(&quot;5551234&quot;)                                         # =&gt; 555-1234
number_to_phone(1235551234)                                        # =&gt; 123-555-1234
number_to_phone(1235551234, area_code: true)                       # =&gt; (123) 555-1234
number_to_phone(1235551234, delimiter: &quot; &quot;)                        # =&gt; 123 555 1234
number_to_phone(1235551234, area_code: true, extension: 555)       # =&gt; (123) 555-1234 x 555
number_to_phone(1235551234, country_code: 1)                       # =&gt; +1-123-555-1234
number_to_phone(&quot;123a456&quot;)                                         # =&gt; 123a456
number_to_phone(&quot;1234a567&quot;, raise: true)                           # =&gt; InvalidNumberError

number_to_phone(1235551234, country_code: 1, extension: 1343, delimiter: &quot;.&quot;)
# =&gt; +1.123.555.1234 x 1343

number_to_phone(75561234567, pattern: /(\d{1,4})(\d{4})(\d{4})$/, area_code: true)
# =&gt; &quot;(755) 6123-4567&quot;
number_to_phone(13312345678, pattern: /(\d{3})(\d{4})(\d{4})$/))
# =&gt; &quot;133-1234-5678&quot;
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_to_phone_source')" id="l_method-i-number_to_phone_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L62" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_to_phone_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 62</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_phone</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">number</span>
      <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>

      <span class="ruby-identifier">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-keyword">true</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:raise</span>)
      <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">NumberHelper</span>.<span class="ruby-identifier">number_to_phone</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>))
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Formats a +number+ into a currency string (e.g., $13.65). You</span>
    <span class="ruby-comment"># can customize the format in the +options+ hash.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># The currency unit and number formatting of the current locale will be used</span>
    <span class="ruby-comment"># unless otherwise specified in the provided options. No currency conversion</span>
    <span class="ruby-comment"># is performed. If the user is given a way to change their locale, they will</span>
    <span class="ruby-comment"># also be able to change the relative value of the currency displayed with</span>
    <span class="ruby-comment"># this helper. If your application will ever support multiple locales, you</span>
    <span class="ruby-comment"># may want to specify a constant &lt;tt&gt;:locale&lt;/tt&gt; option or consider</span>
    <span class="ruby-comment"># using a library capable of currency conversion.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the level of precision (defaults</span>
    <span class="ruby-comment">#   to 2).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:unit&lt;/tt&gt; - Sets the denomination of the currency</span>
    <span class="ruby-comment">#   (defaults to &quot;$&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the units</span>
    <span class="ruby-comment">#   (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;,&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:format&lt;/tt&gt; - Sets the format for non-negative numbers</span>
    <span class="ruby-comment">#   (defaults to &quot;%u%n&quot;).  Fields are &lt;tt&gt;%u&lt;/tt&gt; for the</span>
    <span class="ruby-comment">#   currency, and &lt;tt&gt;%n&lt;/tt&gt; for the number.</span>
    <span class="ruby-comment"># * &lt;tt&gt;:negative_format&lt;/tt&gt; - Sets the format for negative</span>
    <span class="ruby-comment">#   numbers (defaults to prepending a hyphen to the formatted</span>
    <span class="ruby-comment">#   number given by &lt;tt&gt;:format&lt;/tt&gt;).  Accepts the same fields</span>
    <span class="ruby-comment">#   than &lt;tt&gt;:format&lt;/tt&gt;, except &lt;tt&gt;%n&lt;/tt&gt; is here the</span>
    <span class="ruby-comment">#   absolute value of the number.</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.50)                    # =&gt; $1,234,567,890.50</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.506)                   # =&gt; $1,234,567,890.51</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.506, precision: 3)     # =&gt; $1,234,567,890.506</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.506, locale: :fr)      # =&gt; 1 234 567 890,51 €</span>
    <span class="ruby-comment">#   number_to_currency(&quot;123a456&quot;)                        # =&gt; $123a456</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_currency(&quot;123a456&quot;, raise: true)           # =&gt; InvalidNumberError</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_currency(-1234567890.50, negative_format: &quot;(%u%n)&quot;)</span>
    <span class="ruby-comment">#   # =&gt; ($1,234,567,890.50)</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;)</span>
    <span class="ruby-comment">#   # =&gt; R$1234567890,50</span>
    <span class="ruby-comment">#   number_to_currency(1234567890.50, unit: &quot;R$&quot;, separator: &quot;,&quot;, delimiter: &quot;&quot;, format: &quot;%n %u&quot;)</span>
    <span class="ruby-comment">#   # =&gt; 1234567890,50 R$</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_currency</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_currency</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Formats a +number+ as a percentage string (e.g., 65%). You can</span>
    <span class="ruby-comment"># customize the format in the +options+ hash.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</span>
    <span class="ruby-comment">#   (defaults to 3).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</span>
    <span class="ruby-comment">#   of significant_digits. If +false+, the number of fractional</span>
    <span class="ruby-comment">#   digits (defaults to +false+).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</span>
    <span class="ruby-comment">#   fractional and integer digits (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</span>
    <span class="ruby-comment">#   insignificant zeros after the decimal separator (defaults to</span>
    <span class="ruby-comment">#   +false+).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:format&lt;/tt&gt; - Specifies the format of the percentage</span>
    <span class="ruby-comment">#   string The number field is &lt;tt&gt;%n&lt;/tt&gt; (defaults to &quot;%n%&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_percentage(100)                                        # =&gt; 100.000%</span>
    <span class="ruby-comment">#   number_to_percentage(&quot;98&quot;)                                       # =&gt; 98.000%</span>
    <span class="ruby-comment">#   number_to_percentage(100, precision: 0)                          # =&gt; 100%</span>
    <span class="ruby-comment">#   number_to_percentage(1000, delimiter: &#39;.&#39;, separator: &#39;,&#39;)       # =&gt; 1.000,000%</span>
    <span class="ruby-comment">#   number_to_percentage(302.24398923423, precision: 5)              # =&gt; 302.24399%</span>
    <span class="ruby-comment">#   number_to_percentage(1000, locale: :fr)                          # =&gt; 1 000,000%</span>
    <span class="ruby-comment">#   number_to_percentage(&quot;98a&quot;)                                      # =&gt; 98a%</span>
    <span class="ruby-comment">#   number_to_percentage(100, format: &quot;%n  %&quot;)                       # =&gt; 100.000  %</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_percentage(&quot;98a&quot;, raise: true)                         # =&gt; InvalidNumberError</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_percentage</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_percentage</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Formats a +number+ with grouped thousands using +delimiter+</span>
    <span class="ruby-comment"># (e.g., 12,324). You can customize the format in the +options+</span>
    <span class="ruby-comment"># hash.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;,&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</span>
    <span class="ruby-comment">#   fractional and integer digits (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter_pattern&lt;/tt&gt; - Sets a custom regular expression used for</span>
    <span class="ruby-comment">#   deriving the placement of delimiter. Helpful when using currency formats</span>
    <span class="ruby-comment">#   like INR.</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678)                        # =&gt; 12,345,678</span>
    <span class="ruby-comment">#   number_with_delimiter(&quot;123456&quot;)                        # =&gt; 123,456</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678.05)                     # =&gt; 12,345,678.05</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678, delimiter: &quot;.&quot;)        # =&gt; 12.345.678</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678, delimiter: &quot;,&quot;)        # =&gt; 12,345,678</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678.05, separator: &quot; &quot;)     # =&gt; 12,345,678 05</span>
    <span class="ruby-comment">#   number_with_delimiter(12345678.05, locale: :fr)        # =&gt; 12 345 678,05</span>
    <span class="ruby-comment">#   number_with_delimiter(&quot;112a&quot;)                          # =&gt; 112a</span>
    <span class="ruby-comment">#   number_with_delimiter(98765432.98, delimiter: &quot; &quot;, separator: &quot;,&quot;)</span>
    <span class="ruby-comment">#   # =&gt; 98 765 432,98</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_with_delimiter(&quot;123456.78&quot;,</span>
    <span class="ruby-comment">#     delimiter_pattern: /(\d+?)(?=(\d\d)+(\d)(?!\d))/)    # =&gt; &quot;1,23,456.78&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#  number_with_delimiter(&quot;112a&quot;, raise: true)              # =&gt; raise InvalidNumberError</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_with_delimiter</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_delimited</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Formats a +number+ with the specified level of</span>
    <span class="ruby-comment"># &lt;tt&gt;:precision&lt;/tt&gt; (e.g., 112.32 has a precision of 2 if</span>
    <span class="ruby-comment"># +:significant+ is +false+, and 5 if +:significant+ is +true+).</span>
    <span class="ruby-comment"># You can customize the format in the +options+ hash.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</span>
    <span class="ruby-comment">#   (defaults to 3).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</span>
    <span class="ruby-comment">#   of significant_digits. If +false+, the number of fractional</span>
    <span class="ruby-comment">#   digits (defaults to +false+).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</span>
    <span class="ruby-comment">#   fractional and integer digits (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</span>
    <span class="ruby-comment">#   insignificant zeros after the decimal separator (defaults to</span>
    <span class="ruby-comment">#   +false+).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_with_precision(111.2345)                                         # =&gt; 111.235</span>
    <span class="ruby-comment">#   number_with_precision(111.2345, precision: 2)                           # =&gt; 111.23</span>
    <span class="ruby-comment">#   number_with_precision(13, precision: 5)                                 # =&gt; 13.00000</span>
    <span class="ruby-comment">#   number_with_precision(389.32314, precision: 0)                          # =&gt; 389</span>
    <span class="ruby-comment">#   number_with_precision(111.2345, significant: true)                      # =&gt; 111</span>
    <span class="ruby-comment">#   number_with_precision(111.2345, precision: 1, significant: true)        # =&gt; 100</span>
    <span class="ruby-comment">#   number_with_precision(13, precision: 5, significant: true)              # =&gt; 13.000</span>
    <span class="ruby-comment">#   number_with_precision(111.234, locale: :fr)                             # =&gt; 111,234</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_with_precision(13, precision: 5, significant: true, strip_insignificant_zeros: true)</span>
    <span class="ruby-comment">#   # =&gt; 13</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_with_precision(389.32314, precision: 4, significant: true)       # =&gt; 389.3</span>
    <span class="ruby-comment">#   number_with_precision(1111.2345, precision: 2, separator: &#39;,&#39;, delimiter: &#39;.&#39;)</span>
    <span class="ruby-comment">#   # =&gt; 1.111,23</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_with_precision</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_rounded</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Formats the bytes in +number+ into a more understandable</span>
    <span class="ruby-comment"># representation (e.g., giving it 1500 yields 1.5 KB). This</span>
    <span class="ruby-comment"># method is useful for reporting file sizes to users. You can</span>
    <span class="ruby-comment"># customize the format in the +options+ hash.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># See &lt;tt&gt;number_to_human&lt;/tt&gt; if you want to pretty-print a</span>
    <span class="ruby-comment"># generic number.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</span>
    <span class="ruby-comment">#   (defaults to 3).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</span>
    <span class="ruby-comment">#   of significant_digits. If +false+, the number of fractional</span>
    <span class="ruby-comment">#   digits (defaults to +true+)</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</span>
    <span class="ruby-comment">#   fractional and integer digits (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</span>
    <span class="ruby-comment">#   insignificant zeros after the decimal separator (defaults to</span>
    <span class="ruby-comment">#   +true+)</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_human_size(123)                                          # =&gt; 123 Bytes</span>
    <span class="ruby-comment">#   number_to_human_size(1234)                                         # =&gt; 1.21 KB</span>
    <span class="ruby-comment">#   number_to_human_size(12345)                                        # =&gt; 12.1 KB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567)                                      # =&gt; 1.18 MB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567890)                                   # =&gt; 1.15 GB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567890123)                                # =&gt; 1.12 TB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567890123456)                             # =&gt; 1.1 PB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567890123456789)                          # =&gt; 1.07 EB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567, precision: 2)                        # =&gt; 1.2 MB</span>
    <span class="ruby-comment">#   number_to_human_size(483989, precision: 2)                         # =&gt; 470 KB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567, precision: 2, separator: &#39;,&#39;)        # =&gt; 1,2 MB</span>
    <span class="ruby-comment">#   number_to_human_size(1234567890123, precision: 5)                  # =&gt; &quot;1.1228 TB&quot;</span>
    <span class="ruby-comment">#   number_to_human_size(524288000, precision: 5)                      # =&gt; &quot;500 MB&quot;</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_human_size</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_human_size</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-comment"># Pretty prints (formats and approximates) a number in a way it</span>
    <span class="ruby-comment"># is more readable by humans (eg.: 1200000000 becomes &quot;1.2</span>
    <span class="ruby-comment"># Billion&quot;). This is useful for numbers that can get very large</span>
    <span class="ruby-comment"># (and too hard to read).</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># See &lt;tt&gt;number_to_human_size&lt;/tt&gt; if you want to print a file</span>
    <span class="ruby-comment"># size.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># You can also define your own unit-quantifier names if you want</span>
    <span class="ruby-comment"># to use other decimal units (eg.: 1500 becomes &quot;1.5</span>
    <span class="ruby-comment"># kilometers&quot;, 0.150 becomes &quot;150 milliliters&quot;, etc). You may</span>
    <span class="ruby-comment"># define a wide range of unit quantifiers, even fractional ones</span>
    <span class="ruby-comment"># (centi, deci, mili, etc).</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Options</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># * &lt;tt&gt;:locale&lt;/tt&gt; - Sets the locale to be used for formatting</span>
    <span class="ruby-comment">#   (defaults to current locale).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:precision&lt;/tt&gt; - Sets the precision of the number</span>
    <span class="ruby-comment">#   (defaults to 3).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:significant&lt;/tt&gt; - If +true+, precision will be the number</span>
    <span class="ruby-comment">#   of significant_digits. If +false+, the number of fractional</span>
    <span class="ruby-comment">#   digits (defaults to +true+)</span>
    <span class="ruby-comment"># * &lt;tt&gt;:separator&lt;/tt&gt; - Sets the separator between the</span>
    <span class="ruby-comment">#   fractional and integer digits (defaults to &quot;.&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:delimiter&lt;/tt&gt; - Sets the thousands delimiter (defaults</span>
    <span class="ruby-comment">#   to &quot;&quot;).</span>
    <span class="ruby-comment"># * &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; - If +true+ removes</span>
    <span class="ruby-comment">#   insignificant zeros after the decimal separator (defaults to</span>
    <span class="ruby-comment">#   +true+)</span>
    <span class="ruby-comment"># * &lt;tt&gt;:units&lt;/tt&gt; - A Hash of unit quantifier names. Or a</span>
    <span class="ruby-comment">#   string containing an i18n scope where to find this hash. It</span>
    <span class="ruby-comment">#   might have the following keys:</span>
    <span class="ruby-comment">#   * *integers*: &lt;tt&gt;:unit&lt;/tt&gt;, &lt;tt&gt;:ten&lt;/tt&gt;,</span>
    <span class="ruby-comment">#     &lt;tt&gt;:hundred&lt;/tt&gt;, &lt;tt&gt;:thousand&lt;/tt&gt;, &lt;tt&gt;:million&lt;/tt&gt;,</span>
    <span class="ruby-comment">#     &lt;tt&gt;:billion&lt;/tt&gt;, &lt;tt&gt;:trillion&lt;/tt&gt;,</span>
    <span class="ruby-comment">#     &lt;tt&gt;:quadrillion&lt;/tt&gt;</span>
    <span class="ruby-comment">#   * *fractionals*: &lt;tt&gt;:deci&lt;/tt&gt;, &lt;tt&gt;:centi&lt;/tt&gt;,</span>
    <span class="ruby-comment">#     &lt;tt&gt;:mili&lt;/tt&gt;, &lt;tt&gt;:micro&lt;/tt&gt;, &lt;tt&gt;:nano&lt;/tt&gt;,</span>
    <span class="ruby-comment">#     &lt;tt&gt;:pico&lt;/tt&gt;, &lt;tt&gt;:femto&lt;/tt&gt;</span>
    <span class="ruby-comment"># * &lt;tt&gt;:format&lt;/tt&gt; - Sets the format of the output string</span>
    <span class="ruby-comment">#   (defaults to &quot;%n %u&quot;). The field types are:</span>
    <span class="ruby-comment">#   * %u - The quantifier (ex.: &#39;thousand&#39;)</span>
    <span class="ruby-comment">#   * %n - The number</span>
    <span class="ruby-comment"># * &lt;tt&gt;:raise&lt;/tt&gt; - If true, raises +InvalidNumberError+ when</span>
    <span class="ruby-comment">#   the argument is invalid.</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Examples</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_human(123)                                          # =&gt; &quot;123&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234)                                         # =&gt; &quot;1.23 Thousand&quot;</span>
    <span class="ruby-comment">#   number_to_human(12345)                                        # =&gt; &quot;12.3 Thousand&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567)                                      # =&gt; &quot;1.23 Million&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567890)                                   # =&gt; &quot;1.23 Billion&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567890123)                                # =&gt; &quot;1.23 Trillion&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567890123456)                             # =&gt; &quot;1.23 Quadrillion&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567890123456789)                          # =&gt; &quot;1230 Quadrillion&quot;</span>
    <span class="ruby-comment">#   number_to_human(489939, precision: 2)                         # =&gt; &quot;490 Thousand&quot;</span>
    <span class="ruby-comment">#   number_to_human(489939, precision: 4)                         # =&gt; &quot;489.9 Thousand&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567, precision: 4,</span>
    <span class="ruby-comment">#                           significant: false)                   # =&gt; &quot;1.2346 Million&quot;</span>
    <span class="ruby-comment">#   number_to_human(1234567, precision: 1,</span>
    <span class="ruby-comment">#                           separator: &#39;,&#39;,</span>
    <span class="ruby-comment">#                           significant: false)                   # =&gt; &quot;1,2 Million&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#   number_to_human(500000000, precision: 5)                      # =&gt; &quot;500 Million&quot;</span>
    <span class="ruby-comment">#   number_to_human(12345012345, significant: false)              # =&gt; &quot;12.345 Billion&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># Non-significant zeros after the decimal separator are stripped</span>
    <span class="ruby-comment"># out by default (set &lt;tt&gt;:strip_insignificant_zeros&lt;/tt&gt; to</span>
    <span class="ruby-comment"># +false+ to change that):</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># number_to_human(12.00001)                                       # =&gt; &quot;12&quot;</span>
    <span class="ruby-comment"># number_to_human(12.00001, strip_insignificant_zeros: false)     # =&gt; &quot;12.0&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># ==== Custom Unit Quantifiers</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># You can also use your own custom unit quantifiers:</span>
    <span class="ruby-comment">#  number_to_human(500000, units: {unit: &quot;ml&quot;, thousand: &quot;lt&quot;})  # =&gt; &quot;500 lt&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># If in your I18n locale you have:</span>
    <span class="ruby-comment">#   distance:</span>
    <span class="ruby-comment">#     centi:</span>
    <span class="ruby-comment">#       one: &quot;centimeter&quot;</span>
    <span class="ruby-comment">#       other: &quot;centimeters&quot;</span>
    <span class="ruby-comment">#     unit:</span>
    <span class="ruby-comment">#       one: &quot;meter&quot;</span>
    <span class="ruby-comment">#       other: &quot;meters&quot;</span>
    <span class="ruby-comment">#     thousand:</span>
    <span class="ruby-comment">#       one: &quot;kilometer&quot;</span>
    <span class="ruby-comment">#       other: &quot;kilometers&quot;</span>
    <span class="ruby-comment">#     billion: &quot;gazillion-distance&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment"># Then you could do:</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-comment">#  number_to_human(543934, units: :distance)              # =&gt; &quot;544 kilometers&quot;</span>
    <span class="ruby-comment">#  number_to_human(54393498, units: :distance)            # =&gt; &quot;54400 kilometers&quot;</span>
    <span class="ruby-comment">#  number_to_human(54393498000, units: :distance)         # =&gt; &quot;54.4 gazillion-distance&quot;</span>
    <span class="ruby-comment">#  number_to_human(343, units: :distance, precision: 1)   # =&gt; &quot;300 meters&quot;</span>
    <span class="ruby-comment">#  number_to_human(1, units: :distance)                   # =&gt; &quot;1 meter&quot;</span>
    <span class="ruby-comment">#  number_to_human(0.34, units: :distance)                # =&gt; &quot;34 centimeters&quot;</span>
    <span class="ruby-comment">#</span>
    <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_to_human</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
      <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_human</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">private</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">delegate_number_helper_method</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
        <span class="ruby-keyword">return</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">number</span>
        <span class="ruby-identifier">options</span> = <span class="ruby-identifier">escape_unsafe_options</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">symbolize_keys</span>)

        <span class="ruby-identifier">wrap_with_output_safety_handling</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:raise</span>)) {
          <span class="ruby-constant">ActiveSupport</span><span class="ruby-operator">::</span><span class="ruby-constant">NumberHelper</span>.<span class="ruby-identifier">public_send</span>(<span class="ruby-identifier">method</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
        }
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_unsafe_options</span>(<span class="ruby-identifier">options</span>)
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]          = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:format</span>]
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>] = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:negative_format</span>]
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:separator</span>]
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]       = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:delimiter</span>]
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]            = <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-value">:unit</span>].<span class="ruby-identifier">html_safe?</span>
        <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]           = <span class="ruby-identifier">escape_units</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]) <span class="ruby-keyword">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>] <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-constant">Hash</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:units</span>]
        <span class="ruby-identifier">options</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">escape_units</span>(<span class="ruby-identifier">units</span>)
        <span class="ruby-constant">Hash</span>[<span class="ruby-identifier">units</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
          [<span class="ruby-identifier">k</span>, <span class="ruby-constant">ERB</span><span class="ruby-operator">::</span><span class="ruby-constant">Util</span>.<span class="ruby-identifier">html_escape</span>(<span class="ruby-identifier">v</span>)]
        <span class="ruby-keyword">end</span>]
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">wrap_with_output_safety_handling</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_on_invalid</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
        <span class="ruby-identifier">valid_float</span> = <span class="ruby-identifier">valid_float?</span>(<span class="ruby-identifier">number</span>)
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_on_invalid</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">valid_float</span>

        <span class="ruby-identifier">formatted_number</span> = <span class="ruby-keyword">yield</span>

        <span class="ruby-keyword">if</span> <span class="ruby-identifier">valid_float</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">number</span>.<span class="ruby-identifier">html_safe?</span>
          <span class="ruby-identifier">formatted_number</span>.<span class="ruby-identifier">html_safe</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">formatted_number</span>
        <span class="ruby-keyword">end</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">valid_float?</span>(<span class="ruby-identifier">number</span>)
        <span class="ruby-operator">!</span><span class="ruby-identifier">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-keyword">false</span>).<span class="ruby-identifier">nil?</span>
      <span class="ruby-keyword">end</span>

      <span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_error</span>)
        <span class="ruby-constant">Float</span>(<span class="ruby-identifier">number</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">TypeError</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_error</span>
      <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_with_delimiter">
            
              <b>number_with_delimiter</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_with_delimiter" name="method-i-number_with_delimiter" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats a <code>number</code> with grouped thousands using
<code>delimiter</code> (e.g., 12,324). You can customize the format in the
<code>options</code> hash.</p>

<h4 id="method-i-number_with_delimiter-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “,”).</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the fractional and
integer digits (defaults to “.”).</p>
</li><li>
<p><code>:delimiter_pattern</code> - Sets a custom regular expression used for
deriving the placement of delimiter. Helpful when using currency formats
like INR.</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_with_delimiter-label-Examples">Examples</h4>

<pre><code> number_with_delimiter(12345678)                        # =&gt; 12,345,678
 number_with_delimiter(&quot;123456&quot;)                        # =&gt; 123,456
 number_with_delimiter(12345678.05)                     # =&gt; 12,345,678.05
 number_with_delimiter(12345678, delimiter: &quot;.&quot;)        # =&gt; 12.345.678
 number_with_delimiter(12345678, delimiter: &quot;,&quot;)        # =&gt; 12,345,678
 number_with_delimiter(12345678.05, separator: &quot; &quot;)     # =&gt; 12,345,678 05
 number_with_delimiter(12345678.05, locale: :fr)        # =&gt; 12 345 678,05
 number_with_delimiter(&quot;112a&quot;)                          # =&gt; 112a
 number_with_delimiter(98765432.98, delimiter: &quot; &quot;, separator: &quot;,&quot;)
 # =&gt; 98 765 432,98

 number_with_delimiter(&quot;123456.78&quot;,
   delimiter_pattern: /(\d+?)(?=(\d\d)+(\d)(?!\d))/)    # =&gt; &quot;1,23,456.78&quot;

number_with_delimiter(&quot;112a&quot;, raise: true)              # =&gt; raise InvalidNumberError
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_with_delimiter_source')" id="l_method-i-number_with_delimiter_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L199" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_with_delimiter_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 199</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_with_delimiter</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_delimited</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-number_with_precision">
            
              <b>number_with_precision</b>(number, options = {})
            
            <a href="NumberHelper.html#method-i-number_with_precision" name="method-i-number_with_precision" class="permalink">Link</a>
          </div>

          
            <div class="description">
              <p>Formats a <code>number</code> with the specified level of
<code>:precision</code> (e.g., 112.32 has a precision of 2 if
<code>:significant</code> is <code>false</code>, and 5 if
<code>:significant</code> is <code>true</code>). You can customize the
format in the <code>options</code> hash.</p>

<h4 id="method-i-number_with_precision-label-Options">Options</h4>
<ul><li>
<p><code>:locale</code> - Sets the locale to be used for formatting (defaults
to current locale).</p>
</li><li>
<p><code>:precision</code> - Sets the precision of the number (defaults to 3).</p>
</li><li>
<p><code>:significant</code> - If <code>true</code>, precision will be the
number of significant_digits. If <code>false</code>, the number of
fractional digits (defaults to <code>false</code>).</p>
</li><li>
<p><code>:separator</code> - Sets the separator between the fractional and
integer digits (defaults to “.”).</p>
</li><li>
<p><code>:delimiter</code> - Sets the thousands delimiter (defaults to “”).</p>
</li><li>
<p><code>:strip_insignificant_zeros</code> - If <code>true</code> removes
insignificant zeros after the decimal separator (defaults to
<code>false</code>).</p>
</li><li>
<p><code>:raise</code> - If true, raises <code>InvalidNumberError</code> when
the argument is invalid.</p>
</li></ul>

<h4 id="method-i-number_with_precision-label-Examples">Examples</h4>

<pre><code>number_with_precision(111.2345)                                         # =&gt; 111.235
number_with_precision(111.2345, precision: 2)                           # =&gt; 111.23
number_with_precision(13, precision: 5)                                 # =&gt; 13.00000
number_with_precision(389.32314, precision: 0)                          # =&gt; 389
number_with_precision(111.2345, significant: true)                      # =&gt; 111
number_with_precision(111.2345, precision: 1, significant: true)        # =&gt; 100
number_with_precision(13, precision: 5, significant: true)              # =&gt; 13.000
number_with_precision(111.234, locale: :fr)                             # =&gt; 111,234

number_with_precision(13, precision: 5, significant: true, strip_insignificant_zeros: true)
# =&gt; 13

number_with_precision(389.32314, precision: 4, significant: true)       # =&gt; 389.3
number_with_precision(1111.2345, precision: 2, separator: &#39;,&#39;, delimiter: &#39;.&#39;)
# =&gt; 1.111,23
</code></pre>
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-number_with_precision_source')" id="l_method-i-number_with_precision_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L244" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-number_with_precision_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 244</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">number_with_precision</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span> = {})
  <span class="ruby-identifier">delegate_number_helper_method</span>(<span class="ruby-value">:number_to_rounded</span>, <span class="ruby-identifier">number</span>, <span class="ruby-identifier">options</span>)
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-parse_float">
            
              <b>parse_float</b>(number, raise_error)
            
            <a href="NumberHelper.html#method-i-parse_float" name="method-i-parse_float" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-parse_float_source')" id="l_method-i-parse_float_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L444" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-parse_float_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_error</span>)
  <span class="ruby-constant">Float</span>(<span class="ruby-identifier">number</span>)
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-constant">TypeError</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_error</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-valid_float-3F">
            
              <b>valid_float?</b>(number)
            
            <a href="NumberHelper.html#method-i-valid_float-3F" name="method-i-valid_float-3F" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-valid_float-3F_source')" id="l_method-i-valid_float-3F_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L440" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-valid_float-3F_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 440</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">valid_float?</span>(<span class="ruby-identifier">number</span>)
  <span class="ruby-operator">!</span><span class="ruby-identifier">parse_float</span>(<span class="ruby-identifier">number</span>, <span class="ruby-keyword">false</span>).<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
        <div class="method">
          <div class="title method-title" id="method-i-wrap_with_output_safety_handling">
            
              <b>wrap_with_output_safety_handling</b>(number, raise_on_invalid, &amp;block)
            
            <a href="NumberHelper.html#method-i-wrap_with_output_safety_handling" name="method-i-wrap_with_output_safety_handling" class="permalink">Link</a>
          </div>

          
            <div class="description">
              
            </div>
          

          

          

          
            
            <div class="sourcecode">
              
              <p class="source-link">
                Source:
                <a href="javascript:toggleSource('method-i-wrap_with_output_safety_handling_source')" id="l_method-i-wrap_with_output_safety_handling_source">show</a>
                
                  | <a href="https://github.com/rails/rails/blob/fc5dd0b85189811062c85520fd70de8389b55aeb/actionview/lib/action_view/helpers/number_helper.rb#L427" target="_blank" class="github_url">on GitHub</a>
                
              </p>
              <div id="method-i-wrap_with_output_safety_handling_source" class="dyn-source">
                <pre><span class="ruby-comment"># File actionview/lib/action_view/helpers/number_helper.rb, line 427</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">wrap_with_output_safety_handling</span>(<span class="ruby-identifier">number</span>, <span class="ruby-identifier">raise_on_invalid</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">valid_float</span> = <span class="ruby-identifier">valid_float?</span>(<span class="ruby-identifier">number</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">InvalidNumberError</span>, <span class="ruby-identifier">number</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">raise_on_invalid</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">valid_float</span>

  <span class="ruby-identifier">formatted_number</span> = <span class="ruby-keyword">yield</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">valid_float</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">number</span>.<span class="ruby-identifier">html_safe?</span>
    <span class="ruby-identifier">formatted_number</span>.<span class="ruby-identifier">html_safe</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">formatted_number</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
              </div>
            </div>
            
          </div>
        
      
    
  
</div>

    </div>
  </body>
</html>
